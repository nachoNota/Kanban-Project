@model tl2_proyecto_2024_nachoNota.ViewModels.LoginViewModel

<section class="d-flex justify-content-center my-5">
    <div class="card p-4 shadow" style="width: 100%; max-width: 400px;">
        <h3 class="text-center mb-4">Iniciar Sesión</h3>
        <form method="post" asp-controller="Login" asp-action="Login">
            <div class="mb-3">
                <label asp-for="NombreUsuario" class="form-label">Usuario</label>
                <input type="text" class="form-control" asp-for="NombreUsuario">
                <span asp-validation-for="NombreUsuario" class="text-danger"></span>
            </div>
            <div class="mb-3 position-relative">
                <label asp-for="Contrasenia" class="form-label">Contraseña</label>
                <div class="input-group">
                    <input type="password" class="form-control" asp-for="Contrasenia" id="passwordInput">
                    <button class="btn btn-outline-primary" type="button" id="togglePassword">
                        <i class="bi bi-eye" id="eyeIcon"></i>
                    </button>
                </div>
                <span asp-validation-for="Contrasenia" class="text-danger"></span>
            </div>

            @if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <p class="text-center text-danger">@Model.ErrorMessage</p>
            }

            <a class="float-end mb-1">¿Olvidaste tu contraseña?</a>
            <button type="submit" class="btn btn-primary w-100 mover mover-hover4">Ingresar</button>
        </form>

        <div class="text-center mt-3">
            <p class="mb-0">¿Aún no tienes una cuenta? <a asp-controller="Usuario" asp-action="Registrar">Registrate</a></p>
        </div>
    </div>
</section>

@if (TempData["Mensaje"] != null)
{
    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div class="toast show bg-success" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">Éxito</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body text-light">
                @TempData["Mensaje"]
            </div>
        </div>
    </div>
}
